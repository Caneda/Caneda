cmake_minimum_required(VERSION 2.6)
PROJECT( Qucs )

SET(BASEDIR	"share/qucs/")
SET(BITMAPDIR	"share/qucs/bitmaps/")
SET(BINARYDIR	"bin/")
SET(DOCDIR	"share/qucs/docs/")
SET(LANGUAGEDIR "share/qucs/lang/")
SET(LIBRARYDIR	"share/qucs/library/")

SET(CMAKE_BUILD_TYPE Debug)

ADD_DEFINITIONS( -DHAVE_CONFIG_H )

CONFIGURE_FILE(${Qucs_SOURCE_DIR}/config.h.cmake ${Qucs_BINARY_DIR}/config.h)

SET( QT_USE_QTXML TRUE )
SET( QT_USE_QTSVG TRUE )
SET( QT_USE_QTCORE TRUE )
SET( QT_USE_QTGUI TRUE )

FIND_PACKAGE( Qt4 REQUIRED )
INCLUDE( ${QT_USE_FILE} )

# for relaxNG
FIND_PACKAGE(LibXml2 REQUIRED)
ADD_DEFINITIONS(${LIBXML2_DEFINITIONS})

# for libxslt
FIND_PACKAGE( LibXslt REQUIRED )
ADD_DEFINITIONS(${LIBXSLT_DEFINITIONS})

INCLUDE_DIRECTORIES( ${CMAKE_SOURCE_DIR}
    ${CMAKE_BINARY_DIR}
    ${CMAKE_SOURCE_DIR}/qucs
    ${LIBXSLT_INCLUDE_DIR} ${LIBXML2_INCLUDE_DIR}
)

ADD_SUBDIRECTORY( qucs-tools )
ADD_SUBDIRECTORY( qucs )

ADD_SUBDIRECTORY( qucs-attenuator )
ADD_SUBDIRECTORY( qucs-edit )
ADD_SUBDIRECTORY( qucs-filter )
ADD_SUBDIRECTORY( qucs-help )
ADD_SUBDIRECTORY( qucs-lib )
ADD_SUBDIRECTORY( qucs-transcalc )
ADD_SUBDIRECTORY( qucs-qterm )

# Licence and other files
SET(MISC ChangeLog INSTALL PLATFORMS THANKS AUTHORS README TODO COPYING NEWS RELEASE)
INSTALL(FILES ${MISC} DESTINATION ${BASEDIR})
